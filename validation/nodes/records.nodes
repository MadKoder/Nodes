var x = 10

# {x = 10, y = 1}
# after setRecordField : {x = 100, y = 1}
# after setRecord : {x = 1, y = 0}
var recordVar = {x = x, y = 1}

# 11
# after setRecordField : 101
# after setRecord : 1
def defFromRecordVar = recordVar.x + recordVar.y

# {x = 11, y = 12}
# after setRecordField : {x = 101, y = 102}
# after setRecord : {x = 1, y = 2}
def recordDef = {x = defFromRecordVar, y = recordVar.x + recordVar.y + 1}

# 23
# after setRecordField : 203
# after setRecord : 3
def defFromRecordDef = recordDef.x + recordDef.y

slot setRecordField do
    recordVar.x = 100

slot setRecord do
    recordVar = {x = 1, y = 0}